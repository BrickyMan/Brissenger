{% extends 'layout.html' %}

{% block content %}
<div class="chat-msgs-area">
	<ul>
		{% for msg in msgs_list %}
		<li>
			<div class="msg-header">
				<p class="msg-header_user">{{ msg["userName"] }}({{ msg["userId"] }}:{{ msg["msgId"] }})</p>
				<p class="msg-header_datetime">{{ msg["msgDate"] }} {{ msg["msgTime"] }}</p>
			</div>
			<p class="msg-body">{{ msg["msgText"] }}</p>
		</li>
		{% endfor %}
	</ul>
	<p class="chat-msgs-area_begining-text">This is where all this begins...</p>
</div>
<form id="msgSentForm" action="/send_msg" method="POST" class="msg-send-form">
	<textarea id="msgTextarea" name="new-msg-text" placeholder="Type message..."></textarea>
	<input type="submit" value="Send">
</form>
<script>
	// // Запрос на сервер раз в секунду
	// setInterval(function() {
	// 	var xhr = new XMLHttpRequest();
	// 	xhr.open('GET', 'http://127.0.0.1:5000/common_chat/update', true);
	// 	xhr.onreadystatechange = function() {
	// 		// Если запрос получен: 4 (COMPLITED) и статус 200 (ОК)
	// 		if (xhr.readyState === 4 && xhr.status === 200) {
	// 			var response = xhr.responseText;
	// 			document.querySelector('#output').innerHTML = response;
	// 		}
	// 	};
	// 	xhr.send();
	// }, 1000);
</script>
{% endblock content %}